::::::::::: chat-message-markdown
## Принцип специфичности в промпт-инжиниринге: исследования и основные положения

Принцип специфичности (Specificity Principle) --- фундаментальная
концепция в промпт-инжиниринге, согласно которой **чем точнее и
детальнее сформулирован запрос, тем более точным и соответствующим
ожиданиям будет ответ языковой модели**.

## Научное обоснование принципа специфичности

Многочисленные исследования подтверждают эффективность специфичности в
промптах:

### 1. Количественные доказательства влияния специфичности

Согласно исследованию \"Научиться задавать вопросы\", конкретные
уточняющие вопросы значительно повышают:

- Правильность вопросов (метрика A1)
- Точность вызова API (метрика A2)
- Качество ответов (метрика A3)

Этот эффект особенно заметен в задачах, требующих взаимодействия с
внешними инструментами, и позволяет избежать как избыточных вопросов,
так и ошибочных предположений.

### 2. Исследование контекстуального обрамления запросов

Исследование \"Формирование игры: как контекст влияет на принятие
решений ИИ\" выявило, что один и тот же вопрос, заданный в разных
контекстах, приводит к различным ответам. Ключевые факторы влияния
включают:

- Тему запроса
- Тип отношений между участниками
- Тип рассматриваемого мира (реальный/воображаемый)

### 3. Влияние структуры промптов на семантическую согласованность

Исследование \"Улучшение согласованности в больших языковых моделях\"
демонстрирует, что структурированные промпты с четкими инструкциями
улучшают семантическую согласованность ответов, делая их более
последовательными даже при перефразировании одного и того же вопроса.

### 4. Оптимизация длины и информационной плотности

В исследовании \"Слой за слоем: раскрытие скрытых представлений в
языковых моделях\" обнаружено, что с увеличением длины промпта
необработанная энтропия растет, но нормализованная энтропия растет
медленнее. Это указывает на то, что каждый дополнительный токен вносит
всё меньше уникальной информации, поэтому оптимальный промпт должен быть
информационно плотным, избегая излишней вербальности и повторений.

## Основные принципы специфичности в промптах

### 1. Конкретизация контекста

**Принцип:** Четко определяйте контекст и область применения запроса.

**Исследовательское обоснование:** Исследования показывают, что языковые
модели по-разному интерпретируют запросы в зависимости от контекста.
Конкретизация контекста снижает неопределенность и направляет модель в
нужное семантическое пространство.

**Практическое применение:**

::: example-block
Копировать

    Вместо: "Расскажи о влиянии кофеина."
    Лучше: "Как кофеин влияет на когнитивные способности здоровых взрослых в возрасте 25-40 лет при умеренном потреблении (1-3 чашки кофе в день)?"
:::

### 2. Точные параметры ответа

**Принцип:** Указывайте конкретные параметры желаемого ответа (формат,
объем, структуру).

**Исследовательское обоснование:** Исследования об эффективности
многоограниченных инструкций показывают, что явное указание параметров
ответа значительно повышает соответствие результата ожиданиям.

**Практическое применение:**

::: example-block
Копировать

    Вместо: "Напиши план тренировки."
    Лучше: "Составь 4-недельный план силовых тренировок для новичка с доступом только к гантелям. План должен включать 3 тренировки в неделю по 45 минут, 4-5 упражнений на каждую тренировку, с указанием количества подходов, повторений и периодов отдыха."
:::

### 3. Детализация деталей предметной области

**Принцип:** Включайте релевантные специализированные термины и
концепции предметной области.

**Исследовательское обоснование:** Исследование о процедурных знаниях в
языковых моделях демонстрирует, что использование специализированной
терминологии активирует соответствующие латентные знания модели.

**Практическое применение:**

::: example-block
Копировать

    Вместо: "Объясни, как работает солнечная энергия."
    Лучше: "Объясни процесс преобразования солнечного света в электричество в фотоэлектрических панелях, включая роль p-n-перехода, полупроводниковых материалов, и как параметры вроде температуры и угла падения света влияют на эффективность."
:::

### 4. Структурирование запроса

**Принцип:** Используйте явные структуры и маркированные элементы в
промптах.

**Исследовательское обоснование:** Исследование \"Структурирование
информации\" показывает, что промпты с ясной иерархической организацией
и визуальным разделением компонентов повышают точность и полноту ответов
моделей.

**Практическое применение:**

::: example-block
Копировать

    Вместо: "Проанализируй влияние социальных сетей на подростков."

    Лучше:
    "# Анализ влияния социальных сетей на подростков
    ## Необходимые аспекты для рассмотрения:
    1. Психологические эффекты:
       - Самооценка и образ тела
       - Депрессия и тревожность
       - FOMO (страх упущения)
    2. Социальные последствия:
       - Изменение моделей общения
       - Влияние на очные взаимодействия
    3. Образовательные аспекты:
       - Влияние на концентрацию внимания
       - Потенциал для обучения

    ## Формат ответа:
    - Для каждого пункта: краткое описание проблемы
    - 2-3 исследования с количественными данными
    - Рекомендации для родителей и преподавателей"
:::

### 5. Конкретизация примеров и аналогий

**Принцип:** Предоставляйте конкретные примеры желаемого формата или
содержания ответа.

**Исследовательское обоснование:** Исследования о семантическом выборе
примеров показывают, что это значительно эффективнее случайного выбора,
особенно в сложных задачах, требующих специализированных знаний.

**Практическое применение:**

::: example-block
Копировать

    Вместо: "Создай лабораторный отчет."

    Лучше: "Создай лабораторный отчет по эксперименту определения коэффициента вязкости жидкости методом Стокса. Включи следующие разделы:

    Название: [пример: «Определение коэффициента вязкости глицерина методом Стокса»]
    Цель эксперимента: [пример: «Целью данного эксперимента является определение коэффициента динамической вязкости глицерина путем измерения скорости падения шарика в вязкой среде»]

    И так далее с примерами для каждого раздела..."
:::

## Исследования о конкретных аспектах специфичности

### Иерархия инструкций и ограничений

Исследование \"Важность порядка: исследование смещения позиции при
выполнении многоограниченных инструкций\" выявило, что:

1.  Порядок представления информации в запросе имеет значение
2.  Модель может \"забывать\" о некоторых ограничениях, если они
    расположены в определенных позициях
3.  Рекомендуется размещать сложные ограничения в начале промпта

Это исследование предлагает размещать ограничения \"от сложного к
простому\", что повышает вероятность выполнения всех требований.

### Эффект диверсификации запросов

Согласно исследованию \"Диверсификация выборки улучшает инференс\",
специфичность может проявляться в форме разнообразия подходов в рамках
одного промпта:

1.  Task-agnostic подходы (не зависящие от задачи):

    - Jabberwocky (вставка фрагментов поэмы)
    - Role (добавление ролевых описаний)
    - Instruction (добавление конкретных инструкций)

2.  Task-specific подходы (специфичные для задачи):

    - Random Idea Injection (генерация идей для решения задачи)
    - Random Query Rephrase (переформулирование запроса)

### Синтаксическая адаптация моделей

Исследование \"LLM синтаксически адаптируют свое языковое использование
к своему собеседнику\" показывает, что модели могут подстраиваться под
синтаксис пользователя. Это означает, что специфичность синтаксических
конструкций в запросе повлияет на стиль ответа.

Рекомендации из исследования:

1.  Сознательное варьирование синтаксиса
2.  Использование предпочитаемых синтаксических структур в запросах

## Практические примеры применения принципа специфичности

### Пример 1: Научный запрос с конкретизацией всех параметров

::: example-block
Копировать

    # Запрос на обзор научной литературы

    ## Предметная область
    Влияние микробиома кишечника на симптомы депрессии у взрослых пациентов (25-55 лет)

    ## Параметры исследования
    - Временной диапазон: исследования, опубликованные в 2015-2023 годах
    - Тип исследований: клинические испытания, мета-анализы, систематические обзоры
    - Выборка: исследования с размером выборки не менее 50 участников
    - Биомаркеры: изменения в составе Firmicutes/Bacteroidetes, уровни короткоцепочечных жирных кислот

    ## Требуемая структура ответа
    1. Краткое введение (не более 100 слов)
    2. Основные механизмы связи между микробиомом и депрессией (3-4 подтвержденных механизма)
    3. Таблица ключевых исследований (5-7 наиболее значимых) с колонками:
       - Авторы/год
       - Размер выборки
       - Ключевые находки
       - Ограничения исследования
    4. Синтез противоречивых данных
    5. Рекомендации для клинической практики
    6. Выводы (не более 150 слов)
:::

### Пример 2: Бизнес-запрос с использованием PRISM-подхода (из исследования)

::: example-block
Копировать

    # Анализ инвестиционной привлекательности компании [название компании]

    Мне нужен структурированный анализ, включающий:

    ## Финансовые показатели
    - Динамика выручки, EBITDA и чистой прибыли за последние 3 года
    - Коэффициенты P/E, EV/EBITDA в сравнении со средними по отрасли
    - Долговая нагрузка и стоимость капитала

    ## Рыночная позиция
    - Доля рынка и ее динамика
    - Конкурентные преимущества и уязвимости
    - Барьеры для входа новых игроков

    ## Технологические аспекты
    - Инвестиции в R&D как % от выручки
    - Ключевые технологические активы и патенты
    - Уровень цифровизации процессов

    ## Структура ответа
    1. Executive Summary (100-150 слов)
    2. Детальный анализ по каждой категории
    3. Рейтинг привлекательности по 10-балльной шкале с обоснованием
    4. Потенциальные риски инвестирования
    5. Рекомендуемая стратегия (покупка/продажа/удержание)

    Важно: для каждого утверждения указывай уровень уверенности (высокий/средний/низкий) и отмечай, где информация может быть неполной или требует дополнительной проверки.
:::

### Пример 3: Медицинский запрос с Ask-when-Needed подходом

Основано на исследовании \"Научиться задавать вопросы: Когда LLM-агенты
сталкиваются с неясными инструкциями\":

::: example-block
Копировать

    # Медицинская консультация: Хроническая головная боль

    Ты — медицинский ассистент, использующий метод Ask-when-Needed (AwN). Следуй этой структуре:

    ## Анализ полноты информации
    1. Проверь, есть ли вся необходимая информация для базовой консультации:
       - Характеристики головной боли (локализация, интенсивность, длительность, частота)
       - История заболевания
       - Сопутствующие симптомы
       - Провоцирующие факторы
       - Предшествующее лечение

    2. Если что-то из критически важной информации отсутствует:
       - Задай конкретные уточняющие вопросы ТОЛЬКО по отсутствующим ключевым данным
       - Объясни, почему эта информация необходима для консультации

    ## Структурированный ответ
    После получения необходимой информации (или если она уже достаточна), предоставь:

    1. Возможные причины с вероятностью (в процентах)
    2. Рекомендации:
       - Немедленные действия для облегчения симптомов
       - Рекомендации по образу жизни
       - Когда необходимо обратиться к врачу
    3. Предупреждающие признаки, требующие немедленной медицинской помощи

    ## Формат
    - Точные, конкретные формулировки
    - Информация в порядке приоритета
    - Без лишних общих рекомендаций

    Симптомы пациента: [описание симптомов]
:::

## Итеративный подход к повышению специфичности

Исследования показывают, что специфичность --- не однократное действие,
а итеративный процесс. Согласно исследованию \"От исследования к
мастерству\", эффективный процесс включает:

1.  **Исследование**: тестирование различных запросов
2.  **Анализ**: оценка полученных результатов
3.  **Улучшение**: создание более эффективных формулировок

Такой структурированный трехфазный подход позволяет последовательно
повышать специфичность промптов, отслеживая, когда дальнейшие улучшения
перестают давать значимый результат.

## Баланс специфичности и гибкости

Важно отметить, что исследования также показывают необходимость баланса
между специфичностью и гибкостью. Слишком жесткие ограничения могут
подавлять творческий потенциал модели и приводить к шаблонным ответам.

Исследование \"Исследование и контроль разнообразия в беседе с
LLM-агентом\" предлагает:

1.  Оставлять пространство для творчества в четко определенных аспектах
2.  Использовать промпты, регулирующие баланс между креативностью и
    точностью

## Заключение: ключевые выводы

Принцип специфичности --- один из наиболее научно подтвержденных
принципов промпт-инжиниринга. Многочисленные исследования демонстрируют,
что тщательное структурирование запросов с конкретными параметрами
значительно повышает качество, точность и соответствие ожиданиям ответов
языковых моделей.

Основные выводы:

1.  Специфичность улучшает метрики точности и полноты ответов
2.  Структура и четкие параметры ответа повышают соответствие ожиданиям
3.  Итеративное улучшение промптов --- оптимальная стратегия
4.  Баланс специфичности и гибкости необходим для оптимальных
    результатов
5.  Контекст, формат и уровень детализации --- ключевые аспекты
    специфичности

Применяя эти принципы, пользователи могут значительно повысить
эффективность взаимодействия с языковыми моделями и качество получаемых
результатов.
:::::::::::
