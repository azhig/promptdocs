:::::::::: {.chat-message .chat-message-from-bot}
::::::::: chat-message-markdown
# Что такое пространственные паттерны в промптах

Пространственные паттерны --- это особый аспект структурирования
промптов, который фокусируется на **визуальном расположении** информации
в пространстве промпта. В контексте ансамблевого метода они представляют
собой целенаправленное использование визуального форматирования не
только для улучшения читабельности, но и для создания определенных
\"якорей\" и \"сигналов\" для языковой модели.

## Основные принципы использования пространственных паттернов

На основе исследования \"Большие языковые модели, возможно, не обращают
внимания на то, что вы говорите: формат подсказки важнее описаний\"
можно выделить следующие ключевые принципы:

### 1. Стратегическое использование вертикального пространства

**Как это работает:**

- **Структурирование информации сверху вниз** по приоритету значимости
- **Разделение блоков с помощью пустого пространства** (дополнительные
  переносы строк)
- **Использование горизонтальных разделителей** (например, `---` или
  `===`)

**Пример:**

::: example-block
Копировать

    # ГЛАВНЫЙ ЗАГОЛОВОК
    [пустая строка]
    ## Важный раздел
    Ключевая информация
    [пустая строка]
    ---
    [пустая строка]
    ## Менее важный раздел
    Дополнительные детали
:::

### 2. Горизонтальная организация с использованием отступов и выравнивания

**Как это работает:**

- **Использование отступов для создания иерархии** (важное --- без
  отступа, подчиненное --- с отступом)
- **Табличное выравнивание для структурирования сравнений**
- **Выравнивание однотипных элементов**

**Пример:**

::: example-block
Копировать

    ОСНОВНАЯ ЗАДАЧА: Анализ данных

      ПОДЗАДАЧА 1: Предварительная обработка
        - Очистка отсутствующих значений
        - Нормализация
      
      ПОДЗАДАЧА 2: Визуализация
        - Построение графиков
        - Создание тепловых карт
:::

### 3. Визуальное форматирование с помощью маркеров и символов

**Как это работает:**

- **Использование специальных символов** (→, ●, ★, ✓) для привлечения
  внимания
- **Создание визуальных \"блоков\"** с помощью символьных рамок
- **Применение маркеров для обозначения особо важных элементов**

**Пример:**

::: example-block
Копировать

    ┌──────────────────────────────┐
    │  КРИТИЧЕСКИ ВАЖНЫЕ УСЛОВИЯ   │
    ├──────────────────────────────┤
    │ ⚠️ Не превышать лимит в 500 │
    │ ⚠️ Сохранять конфиденциаль- │
    │    ность данных              │
    └──────────────────────────────┘
:::

### 4. Расположение примеров по визуальным шаблонам

**Как это работает:**

- **Группировка примеров визуально** (по столбцам, блокам, секциям)
- **Создание однотипных паттернов** для похожих примеров
- **Смысловая категоризация через пространственное размещение**

**Пример:**

::: example-block
Копировать

    ПРИМЕРЫ ТИПА А:         ПРИМЕРЫ ТИПА Б:
    - Пример A1: результат   - Пример B1: результат
    - Пример A2: результат   - Пример B2: результат
:::

### 5. Управление плотностью информации

**Как это работает:**

- **Варьирование плотности текста** в разных частях промпта
- **Стратегическое \"разрежение\"** важной информации для повышения
  внимания к ней
- **Концентрация детальной информации** в выделенных блоках

**Пример:**

::: example-block
Копировать

    КЛЮЧЕВОЕ ПРАВИЛО:

    Всегда соблюдать конфиденциальность.

    ДЕТАЛИ РЕАЛИЗАЦИИ:
    - Использовать шифрование XYZ
    - Проверять права доступа
    - Логировать все операции чтения
    - Обновлять ключи каждые 30 дней
:::

## Почему пространственные паттерны эффективны

Согласно исследованию, эффективность пространственных паттернов
объясняется несколькими факторами:

1.  **Модели обучаются на структурированных текстах** --- большая часть
    обучающих данных содержит структурированный текст с определенными
    паттернами форматирования.

2.  **Механизмы внимания модели** --- пространственное расположение
    помогает механизму внимания языковой модели фокусироваться на
    определенных элементах промпта.

3.  **Визуальные маркеры создают \"якоря\"** --- они служат ориентирами,
    на которые модель может \"опереться\" при формировании ответа.

4.  **Форматирование создает имплицитную иерархию** --- даже без явного
    указания на важность элементов, их пространственное расположение
    формирует иерархию.

5.  **Исследование показало, что модели часто игнорируют семантическое
    содержание** --- но при этом чувствительны к форматированию и
    структуре.

## Пример комплексного использования пространственных паттернов в ансамблевом методе

Вот пример промпта, который демонстрирует все аспекты использования
пространственных паттернов:

::: example-block
Копировать

    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
                             🔍 АНАЛИЗ КОНКУРЕНТОВ НА РЫНКЕ 🔍
    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


    ■ ЗАДАЧА:
      Проанализировать конкурентную среду для нового мобильного приложения 
      в категории "Финансовое планирование"


    ■ КЛЮЧЕВЫЕ ПАРАМЕТРЫ АНАЛИЗА:
      
      📊 КОЛИЧЕСТВЕННЫЕ МЕТРИКИ          🧠 КАЧЕСТВЕННЫЕ ХАРАКТЕРИСТИКИ
      ────────────────────────────       ────────────────────────────
      • Количество установок             • Основные функции
      • Средний рейтинг                  • Целевая аудитория
      • Частота обновлений               • Уникальное торговое предложение
      • Стоимость подписки               • Дизайн интерфейса


    ■ ТРЕБУЕМЫЙ ФОРМАТ ВЫВОДА:

      ЧАСТЬ 1: ОБЗОР РЫНКА
      ═══════════════════════
      [Краткий обзор текущего состояния рынка финансовых приложений]

      ЧАСТЬ 2: АНАЛИЗ ТОПОВЫХ КОНКУРЕНТОВ
      ════════════════════════════════════
      
      ┌─────────────────────────────────────────────────────────┐
      │ КОНКУРЕНТ 1: [Название]                                 │
      ├─────────────────────┬───────────────────────────────────┤
      │ КОЛИЧЕСТВЕННО:      │ КАЧЕСТВЕННО:                      │
      │ • Метрика 1: ...    │ • Функции: ...                    │
      │ • Метрика 2: ...    │ • Аудитория: ...                  │
      │ • Метрика 3: ...    │ • УТП: ...                        │
      └─────────────────────┴───────────────────────────────────┘
      
      [Аналогично для конкурентов 2-4]

      ЧАСТЬ 3: ВЫВОДЫ И РЕКОМЕНДАЦИИ
      ═══════════════════════════════
      
      ВОЗМОЖНОСТИ:                   УГРОЗЫ:
      → ...                          → ...
      → ...                          → ...
      
      РЕКОМЕНДУЕМЫЕ ДЕЙСТВИЯ:
      1) ...
      2) ...
      3) ...


    ■ ДОПОЛНИТЕЛЬНЫЕ ИНСТРУКЦИИ:
      
      ⚠️ Обязательно включить в анализ приложения:
         • Mint
         • YNAB
         • Personal Capital
         • Wallet by BudgetBakers

      ⚠️ Сфокусироваться на данных за последний год
      
      ⚠️ Учесть региональные особенности рынка США
:::

## Практические рекомендации для использования пространственных паттернов

1.  **Начинайте с иерархической структуры**:

    - Используйте разные уровни заголовков
    - Применяйте отступы для создания визуальной иерархии
    - Разделяйте основные блоки горизонтальными линиями

2.  **Создавайте визуальные якоря**:

    - Используйте специальные символы (■, →, ⚠️) для ключевых элементов
    - Применяйте рамки и блоки для особо важной информации
    - Выделяйте критические инструкции с помощью отдельных блоков

3.  **Контролируйте плотность информации**:

    - Разбавляйте плотный текст пустыми строками
    - Группируйте похожую информацию в визуально связные блоки
    - Используйте точечные списки для разбиения сложных инструкций

4.  **Применяйте различные стили форматирования последовательно**:

    - Используйте ЗАГЛАВНЫЕ буквы для заголовков одного уровня
    - Применяйте символы-маркеры одинаково для одинаковых типов
      информации
    - Соблюдайте одинаковую структуру для похожих блоков информации

5.  **Экспериментируйте с форматированием для разных типов задач**:

    - Для аналитических задач подходят таблицы и сравнительные структуры
    - Для творческих задач более эффективны открытые пространства с
      меньшим количеством ограничений
    - Для пошаговых инструкций идеально работает нумерованная структура
      с отступами

## Заключение

Пространственные паттерны в контексте ансамблевого метода промптов
представляют собой мощный инструмент, который позволяет значительно
повысить эффективность взаимодействия с языковыми моделями. Они работают
не только на уровне улучшения читабельности для человека, но и создают
важные структурные ориентиры для самой модели.

Исследование подтверждает, что формат и структура промпта могут иметь
даже большее влияние на качество ответов, чем семантическое содержание.
Это открывает новые возможности для оптимизации промптов даже без
глубокого понимания работы языковых моделей --- просто за счет
грамотного использования пространственного форматирования.
:::::::::
::::::::::
